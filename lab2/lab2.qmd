---
title: "lab2"
format: 
    md:
        output-file: README.md
editor: visual
---

## Ð¦ÐµÐ»ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

ÐŸÑ€Ð¾Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ð² Ð¿Ð°ÐºÐµÑ‚ dplyr Ð½Ð°Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… starwars Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑÐ·Ñ‹ÐºÐ° R Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹


## Ð¥Ð¾Ð´ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ð¼ Ð¿Ð°ÐºÐµÑ‚ dplyr:
```{r}
library(dplyr)
```

1.Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð¾Ðº Ð² Ð´Ð°Ñ‚Ð°Ñ„Ñ€ÐµÐ¹Ð¼Ðµ?

```{r}
starwars |> nrow()
```

2.Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð² Ð² Ð´Ð°Ñ‚Ð°Ñ„Ñ€ÐµÐ¹Ð¼Ðµ?

```{r}
starwars |> ncol()
```

3.ÐšÐ°Ðº Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð¸Ð´ Ð´Ð°Ñ‚Ð°Ñ„Ñ€ÐµÐ¹Ð¼Ð°?

```{r}
starwars |> glimpse()
```

4.Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€Ð°Ñ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹ (species) Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² Ð´Ð°Ð½Ð½Ñ‹Ñ…?

```{r}
unique(starwars$species)
```

5.ÐÐ°Ð¹Ñ‚Ð¸ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð°.

```{r}
starwars |> slice_max (height) |> select (name, height)
```

6.ÐÐ°Ð¹Ñ‚Ð¸ Ð²ÑÐµÑ… Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹ Ð½Ð¸Ð¶Ðµ 170

```{r}
starwars |> filter (height < 170) 
```

7.ÐŸÐ¾Ð´ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð˜ÐœÐ¢ (Ð¸Ð½Ð´ÐµÐºÑ Ð¼Ð°ÑÑÑ‹ Ñ‚ÐµÐ»Ð°) Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹. Ð˜ÐœÐ¢ Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¿Ð¾ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ðµ ð¼ = ð‘š â„Ž2 , Ð³Ð´Ðµ ð‘š -- Ð¼Ð°ÑÑÐ° (weight), Ð° â„Ž -- Ñ€Ð¾ÑÑ‚ (height).

```{r}
starwars |> mutate(IMT= mass / (height/100) ** 2) |> select (name, IMT)
```
8.ÐÐ°Ð¹Ñ‚Ð¸ 10 ÑÐ°Ð¼Ñ‹Ñ… â€œÐ²Ñ‹Ñ‚ÑÐ½ÑƒÑ‚Ñ‹Ñ…â€ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹. â€œÐ’Ñ‹Ñ‚ÑÐ½ÑƒÑ‚Ð¾ÑÑ‚ÑŒâ€ Ð¾Ñ†ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ð¼Ð°ÑÑÑ‹ (mass) Ðº Ñ€Ð¾ÑÑ‚Ñƒ (height) Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹.

```{r}
starwars |> mutate(elong = mass / height) |> slice_max (elong, n = 10) |> select(name, elong)
```

9.ÐÐ°Ð¹Ñ‚Ð¸ ÑÑ€ÐµÐ´Ð½Ð¸Ð¹ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ñ€Ð°ÑÑ‹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ð—Ð²ÐµÐ·Ð´Ð½Ñ‹Ñ… Ð²Ð¾Ð¹Ð½.

```{r}
starwars |> group_by (species) |>  summarise("Mean age" = mean(birth_year, na.rm = TRUE)) |> na.omit()
```

10.ÐÐ°Ð¹Ñ‚Ð¸ ÑÐ°Ð¼Ñ‹Ð¹ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚ Ð³Ð»Ð°Ð· Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ÐµÐ¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ð—Ð²ÐµÐ·Ð´Ð½Ñ‹Ñ… Ð²Ð¾Ð¹Ð½

```{r}
starwars |> group_by (eye_color) |>  summarise("count" = n()) |> slice_max(count)
```

11.ÐŸÐ¾Ð´ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÑ€ÐµÐ´Ð½ÑŽÑŽ Ð´Ð»Ð¸Ð½Ñƒ Ð¸Ð¼ÐµÐ½Ð¸ Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ñ€Ð°ÑÐµ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ð—Ð²ÐµÐ·Ð´Ð½Ñ‹Ñ… Ð²Ð¾Ð¹Ð½.

```{r}
starwars |> mutate ("length" = nchar((name))) |> group_by(species) |> summarise( mean(length))
```

